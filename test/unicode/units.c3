<*
    This contains utf8 specific regex tests

    That specifically hit the utf8 specific logic
*>
module regex::utf8::units;

import regex::test_common;
import regex;


fn void single_character() @test
{
    test_common::regex_expect_match_full(`.`, Options.NONE, "a" /* 1 byte */, "Î³" /* 2 bytes */, "ê¬°" /* 3 bytes */, "ğ€€" /* 4 bytes */);
}

fn void string() @test
{
    test_common::regex_expect(`Î³ê¬°5`, Options.NONE, "Î³ê¬°5 Î³ê¬°6", "Î³ê¬°5");
}

fn void backref() @test
{
    test_common::regex_expect(`(Î³+)\1`, Options.NONE, "Î³Î³Î³Î³ Î³Î³","Î³Î³Î³Î³", "Î³Î³");
}

fn void character_class() @test
{
    test_common::regex_expect(`[Î‘Î©]`, Options.NONE, "Î‘Î³Î©", "Î‘", "Î©");
}

fn void character_range() @test
{
    test_common::regex_expect(`[Î‘-Î©]`, Options.NONE, "Î‘Î¦Î©", "Î‘", "Î¦", "Î©");
}